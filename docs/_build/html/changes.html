

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Changes &mdash; PyCK 0.10 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="PyCK 0.10 documentation" href="index.html"/>
        <link rel="prev" title="Running PyCK Applications with Nginx, uwsgi and Virtualenv" href="nginx_uwsgi_virtualenv.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> PyCK
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="README.html#background">Background</a><ul>
<li class="toctree-l3"><a class="reference internal" href="README.html#why-create-pyck">Why Create PyCK?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="README.html#discussion-on-various-aspects-of-pyck">Discussion on various aspects of PyCK</a></li>
<li class="toctree-l2"><a class="reference internal" href="README.html#current-features">Current Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="README.html#future-plan">Future Plan</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="start-project.html">Starting a Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="pluggable-apps-howto.html">Pluggable application in PyCK</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pluggable-apps-howto.html#creating-a-pluggable-application">Creating a pluggable application</a></li>
<li class="toctree-l2"><a class="reference internal" href="pluggable-apps-howto.html#things-to-remember">Things to remember:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyck-project-structure.html">Structure of a PyCK Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="form-validation-library-choice.html">The Problem (The Why? of Form Library)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="form-validation-library-choice.html#the-choices">The choices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="form-validation-library-choice.html#wtforms">WTForms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="form-validation-library-choice.html#problems">Problems</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="form-validation-library-choice.html#sprox">Sprox</a><ul>
<li class="toctree-l4"><a class="reference internal" href="form-validation-library-choice.html#id1">Problems</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="form-validation-library-choice.html#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyck-forms.html">The pyck.forms Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyck-mako-utils.html">The pyck.mako_utils Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyck-mako-utils.html#multiple-item-selector-mako-module">Multiple item selector mako module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyck-controllers.html">The pyck.controllers Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyck-admin.html">The PyCK Admin Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyck-admin.html#pyck-admin-extension">PyCK Admin Extension</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyck-lib.html">The pyck.lib Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="mod_wsgi_virtualenv.html">Running PyCK Applications with Apache Mod WSGI and Virtualenv</a></li>
<li class="toctree-l1"><a class="reference internal" href="nginx_uwsgi_virtualenv.html">Running PyCK Applications with Nginx, uwsgi and Virtualenv</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Changes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-10">What&#8217;s new in 0.10</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-8-7">What&#8217;s new in 0.9.8.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-8-6">What&#8217;s new in 0.9.8.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-8-5">What&#8217;s new in 0.9.8.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-8-4">What&#8217;s new in 0.9.8.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-8-3">What&#8217;s new in 0.9.8.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-8-2">What&#8217;s new in 0.9.8.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-8">What&#8217;s new in 0.9.8</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-7-3">What&#8217;s new in 0.9.7.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-7-2">What&#8217;s new in 0.9.7.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-7-1">What&#8217;s new in 0.9.7.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-7">What&#8217;s new in 0.9.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-6">What&#8217;s new in 0.9.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-5">What&#8217;s new in 0.9.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-4">What&#8217;s new in 0.9.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-3">What&#8217;s new in 0.9.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-2">What&#8217;s new in 0.9.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9-1">What&#8217;s new in 0.9.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-9">What&#8217;s new in 0.9</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-8-2">What&#8217;s new in 0.8.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-8-1">What&#8217;s new in 0.8.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-8">What&#8217;s new in 0.8</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-7-5">What&#8217;s new in 0.7.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-7-2">What&#8217;s new in 0.7.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-7-1">What&#8217;s new in 0.7.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-7">What&#8217;s new in 0.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-6-8">What&#8217;s new in 0.6.8</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-6-6">What&#8217;s new in 0.6.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-6-5">What&#8217;s new in 0.6.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-6-4">What&#8217;s new in 0.6.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-6-3">What&#8217;s new in 0.6.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-6">What&#8217;s new in 0.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-5-1">What&#8217;s new in 0.5.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-5">What&#8217;s new in 0.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-4-3">What&#8217;s new in 0.4.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-4-2">What&#8217;s new in 0.4.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-4-1">What&#8217;s new in 0.4.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-4">What&#8217;s new in 0.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-3">What&#8217;s new in 0.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-2-4">What&#8217;s new in 0.2.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-2-3">What&#8217;s new in 0.2.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-2-2">What&#8217;s new in 0.2.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-2-1">What&#8217;s new in 0.2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-2-0">What&#8217;s new in 0.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-0-1-6">What&#8217;s new in 0.1.6</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">PyCK</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Changes</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/changes.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="changes">
<span id="id1"></span><h1>Changes<a class="headerlink" href="#changes" title="Permalink to this headline">¶</a></h1>
<p>This document lists the changes as versions progress</p>
<div class="section" id="what-s-new-in-0-10">
<h2>What&#8217;s new in 0.10<a class="headerlink" href="#what-s-new-in-0-10" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>python3 fix as unicode keyword is no longer supproted in python &gt;-=3.4. This makes pyck compatible to &gt;= python 2.7.x and &gt;= python 3.4.x</li>
<li>Fixed broken auth routes section</li>
<li>Added bootstrap form-control class to form_as_p and form_as_table templates</li>
<li>Fixed new project scaffold login logic for str/bytes conversion issues</li>
<li>Fixed admin section to ignore python_type errors for SQL types that don&#8217;t have a corresponding python type</li>
<li>Python3 StringIO fix for CRUDController</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-8-7">
<h2>What&#8217;s new in 0.9.8.7<a class="headerlink" href="#what-s-new-in-0-9-8-7" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Support for CSV download of CRUD list data</li>
<li>Support for CRUD details_exclude</li>
<li>Support for default filter condition for CRUD list</li>
<li>Minor bugfix in admin section that caused some crud properties not to take effect</li>
<li>Bootstrap CSS related updates to make the admin section and CRUD interface work equally better with both light and dark bootstrap themes.</li>
<li>Flash msgs can now contain html and admin flash msgs are also closable now.</li>
<li>Better structure for auth permissions in populate script.</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-8-6">
<h2>What&#8217;s new in 0.9.8.6<a class="headerlink" href="#what-s-new-in-0-9-8-6" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">The <strong>python setup.py develop</strong> command now generates <em>requirements.txt</em> file in project home folder based on the requires and app_requires lists from the main project and subapps.</p>
</li>
<li><p class="first">Admin section uses the project&#8217;s bootstrap located in /static/bootstrap instead of fetching bootstrap from the net.</p>
</li>
<li><p class="first">Search functionality for CRUD controller. Allows case sensitive and insesitive searching, partial matching and option to select fields for searching. Also allows partial date, time and datetime matching</p>
</li>
<li><p class="first">Support for field heading and value translations in CRUD list and detail pages. Allows translating a field&#8217;s display value by calling a user defined function. So for example if a user wants to display &#8216;Yes&#8217; when a field&#8217;s value is true, it can be done with something like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">translate_is_active</span><span class="p">(</span><span class="n">input_value</span><span class="p">):</span>
    <span class="k">return</span> <span class="s">&#39;Yes&#39;</span> <span class="k">if</span> <span class="n">input_value</span> <span class="k">else</span> <span class="s">&#39;No&#39;</span>

<span class="n">field_translations</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;is_active&#39;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s">&#39;header&#39;</span><span class="p">:</span> <span class="s">&#39;Account Active&#39;</span><span class="p">,</span>
          <span class="s">&#39;translator&#39;</span><span class="p">:</span> <span class="n">translate_is_active</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">Support for conditional links in CRUD list_per_record_actions and detail_actions parameters. Link is displayed if the condition is True. Condition is anything that can be processed by python&#8217;s eval function. Allow using special placeholders for fields like {fieldname} which is a reference to the value of the specified field for the current record object in the display context. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">list_per_record_actions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
           <span class="s">&#39;link_text&#39;</span><span class="p">:</span> <span class="s">&#39;View History&#39;</span><span class="p">,</span>
           <span class="s">&#39;link_url&#39;</span><span class="p">:</span> <span class="s">&#39;/history/{PK}&#39;</span><span class="p">,</span>
           <span class="s">&#39;css_class&#39;</span><span class="p">:</span> <span class="s">&#39;text-primary&#39;</span><span class="p">,</span>
           <span class="s">&#39;condition&#39;</span><span class="p">:</span> <span class="s">&#39;True == {has_history}&#39;</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-8-5">
<h2>What&#8217;s new in 0.9.8.5<a class="headerlink" href="#what-s-new-in-0-9-8-5" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Sorting support in crud controller that allows result sorting based on any field that is being displayed</p>
</li>
<li><p class="first">Dojo base url is in the config file now and used by both base.mako and the admin panel&#8217;s admin_base.mako</p>
</li>
<li><p class="first">Using pyramid&#8217;s SignedCookieSessionFactory instead of the deprecated UnencryptedCookieSessionFactory</p>
</li>
<li><p class="first">Flash messages are now closable.</p>
</li>
<li><p class="first">Change password page for currently logged in user.</p>
</li>
<li><p class="first">Base.mako markup and structure cleanup.</p>
</li>
<li><p class="first">Visual indication for sub routes for pyckauth routes multiselctor</p>
</li>
<li><p class="first">Multiselector fix so that single item groups are treated as independent routes</p>
</li>
<li><p class="first">Using html5 doctype for admin base</p>
</li>
<li><p class="first">Default dojo libraries used for admin section upgraded to 1.10.1 from 1.8.3</p>
</li>
<li><p class="first"><em>Refactoring</em> -  Moved login and logout logic out of the controller and into the User model</p>
</li>
<li><p class="first">Ability to disable dojo loading for a mako template. In the template file set <strong>skip_dojo=True</strong> before inheriting from base.mako template, example:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;%! skip_dojo = True %&gt;
&lt;%inherit file=&quot;base.mako&quot;/&gt;
</pre></div>
</div>
</li>
<li><p class="first">Ability to set current route (for menu highlighting) to a different route than the current url&#8217;s route. This is useful when your current URL doesn&#8217;t have a corresponding main menu item but you want to highlight one of the menu items. Just set current_route to the route name you want to highlight before inheriting from base.mako:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;%! current_route = &#39;get_reports&#39; %&gt;
&lt;%inherit file=&quot;base.mako&quot;/&gt;
</pre></div>
</div>
</li>
<li><p class="first">Multiple types of flash messages. Now you can change the bootstrap CSS class for the flash message by prefixing the message content string with either <strong>&#8220;Error:&#8221;</strong> or <strong>&#8220;Warning:&#8221;</strong>. This changes the message display class to danger and warning respectivly. Please note that the actual word Error: or Warning: is removed from the displayed string. So:</p>
<blockquote>
<div><p>&#8220;Error: Error fetching data&#8221;</p>
</div></blockquote>
<p>becomes:</p>
<blockquote>
<div><p>&#8221; Error fetching data&#8221;</p>
</div></blockquote>
<p>and is displayed using the &#8220;danger&#8221; css class.</p>
</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-8-4">
<h2>What&#8217;s new in 0.9.8.4<a class="headerlink" href="#what-s-new-in-0-9-8-4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed admin section record add/edit issue that was caused because of SQLAlchemy version &gt;= 1.0.</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-8-3">
<h2>What&#8217;s new in 0.9.8.3<a class="headerlink" href="#what-s-new-in-0-9-8-3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Further support for &#8216;crud_friendly_name&#8217;, &#8216;crud_add_edit_exclude&#8217;, &#8216;crud_add_edit_field_args&#8217;, &#8216;crud_list_recs_per_page&#8217;, &#8216;crud_list_max_pages&#8217;, &#8216;crud_list_field_args&#8217; fields for custom admin controllers.</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-8-2">
<h2>What&#8217;s new in 0.9.8.2<a class="headerlink" href="#what-s-new-in-0-9-8-2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Minor fix in crud controller where editing a record in admin interface or crud interfaces caused error when using MySQL databases.</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-8">
<h2>What&#8217;s new in 0.9.8<a class="headerlink" href="#what-s-new-in-0-9-8" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Added <code class="xref py py-mod docutils literal"><span class="pre">pyck.mako_utils</span></code> package for mako related utility code</p>
</li>
<li><p class="first">Addition of <a class="reference internal" href="pyck-lib.html#pyck.lib.routes.get_routes" title="pyck.lib.routes.get_routes"><code class="xref py py-func docutils literal"><span class="pre">pyck.lib.routes.get_routes()</span></code></a> function which returns OrderedDict of routes</p>
</li>
<li><p class="first">Record sorting support for AdminController using &#8216;crud_list_sort_by&#8217; property.</p>
</li>
<li><p class="first">Record sorting support for CRUD controller using &#8216;list_sort_by&#8217; property of CRUDController</p>
</li>
<li><p class="first">Delete action in admin controller correctly displays HTTP Not Acceptable error if deleting a record violates Referential Integrity</p>
</li>
<li><p class="first">Added support for &#8216;crud_list_only&#8217;, &#8216;crud_list_exclude&#8217;, &#8216;crud_models_field_args&#8217;, &#8216;crud_list_actions&#8217;, &#8216;crud_list_per_record_actions&#8217;, &#8216;crud_detail_actions&#8217; for admin controllers. Now you can define a custom AdminController child class and use it to specify extra parameters for some or all of the crud controllers present in the admin interface. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">BlogsAdminController</span><span class="p">(</span><span class="n">AdminController</span><span class="p">):</span>

    <span class="n">crud_list_per_record_actions</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">UserInfo</span><span class="o">.</span><span class="n">__name__</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="s">&#39;link_text&#39;</span><span class="p">:</span> <span class="s">&#39;Details&#39;</span><span class="p">,</span> <span class="s">&#39;link_url&#39;</span><span class="p">:</span> <span class="s">&#39;details/{PK}&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s">&#39;link_text&#39;</span><span class="p">:</span> <span class="s">&#39;Edit&#39;</span><span class="p">,</span> <span class="s">&#39;link_url&#39;</span><span class="p">:</span> <span class="s">&#39;edit/{PK}&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s">&#39;link_text&#39;</span><span class="p">:</span> <span class="s">&#39;Delete&#39;</span><span class="p">,</span> <span class="s">&#39;link_url&#39;</span><span class="p">:</span> <span class="s">&#39;delete/{PK}&#39;</span><span class="p">},</span>
            <span class="p">{</span><span class="s">&#39;link_text&#39;</span><span class="p">:</span> <span class="s">&#39;Upload Photo&#39;</span><span class="p">,</span> <span class="s">&#39;link_url&#39;</span><span class="p">:</span> <span class="s">&#39;/photo_upload/user/{PK}&#39;</span><span class="p">},</span>
        <span class="p">]</span>
    <span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">Minor dojo fix that was causing dojo.parse to be called twice</p>
</li>
<li><p class="first">Auth controller fixes that were broken for python 3</p>
</li>
<li><p class="first">Admin section now displays number of records present in a table/model next to the model/tablename on the sidebar. If you want to revert to the old behavior of just displaying the modelname, create a subclass of AdminController and set display_record_count to False. For example in your project&#8217;s __init__.py where you have code like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyck.ext</span> <span class="kn">import</span> <span class="n">add_admin_handler</span><span class="p">,</span> <span class="n">AdminController</span>

<span class="c"># later in the __init__.main function</span>
<span class="n">add_admin_handler</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">db</span><span class="p">,</span> <span class="n">get_models</span><span class="p">(</span><span class="n">sms_vault</span><span class="p">,</span> <span class="n">return_dict</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
                  <span class="s">&#39;admin.&#39;</span><span class="p">,</span> <span class="s">&#39;/admin&#39;</span><span class="p">,</span> <span class="n">AdminController</span><span class="p">)</span>
</pre></div>
</div>
<p>you could update it to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyck.ext</span> <span class="kn">import</span> <span class="n">add_admin_handler</span><span class="p">,</span> <span class="n">AdminController</span>

<span class="k">class</span> <span class="nc">NoRecordCounterAdminController</span><span class="p">(</span><span class="n">AdminController</span><span class="p">):</span>
    <span class="n">display_record_count</span> <span class="o">=</span> <span class="bp">False</span>

<span class="c"># later in the __init__.main function</span>

<span class="n">add_admin_handler</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">db</span><span class="p">,</span> <span class="n">get_models</span><span class="p">(</span><span class="n">sms_vault</span><span class="p">,</span> <span class="n">return_dict</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
                  <span class="s">&#39;admin.&#39;</span><span class="p">,</span> <span class="s">&#39;/admin&#39;</span><span class="p">,</span> <span class="n">NoRecordCounterAdminController</span><span class="p">)</span>
</pre></div>
</div>
<p>This will disable displaying record count next to table links. Disabling record count may be useful where you don&#8217;t want to put the extra strain on the DB for fetching record counts.</p>
</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-7-3">
<h2>What&#8217;s new in 0.9.7.3<a class="headerlink" href="#what-s-new-in-0-9-7-3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed errors in lib/models.py where when not returning a dict (old projects ask for returning a list instead of dict) the code gave an error and failed.</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-7-2">
<h2>What&#8217;s new in 0.9.7.2<a class="headerlink" href="#what-s-new-in-0-9-7-2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Pluggable apps are allowed not to have any models now. PyCK now ignores model related operations for these apps correctly.</li>
<li>has_app function in apps package to check if a given app is present in project&#8217;s enabled apps. This is useful for pluggable apps that are dependent on other pluggable apps.</li>
<li>Updates to newapp scaffold to make it look better</li>
<li>Minor improvements to project homepage template</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-7-1">
<h2>What&#8217;s new in 0.9.7.1<a class="headerlink" href="#what-s-new-in-0-9-7-1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixes to crud controller pagination which broke in python3</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-7">
<h2>What&#8217;s new in 0.9.7<a class="headerlink" href="#what-s-new-in-0-9-7" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Python 3.x compatibility. Now PyCK projects can run on both python 2.x ( &gt; 2.5 ) and python 3.x ( &gt;= 3.2 )</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-6">
<h2>What&#8217;s new in 0.9.6<a class="headerlink" href="#what-s-new-in-0-9-6" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Added a section in base.mako template named extra_head for including stuff within the &lt;head&gt;&lt;/head&gt; section of the page.</p>
</li>
<li><p class="first">Fixed minor bug in CURD list section causing errors when a FK is null.</p>
</li>
<li><p class="first">Updated base.mako template to use dojo 1.10.1 instead of the previously used 1.8.3</p>
</li>
<li><p class="first">Added top level route for favicon.ico in project scaffold</p>
</li>
<li><p class="first">Mechanism for integrating subapp dependencies into project&#8217;s setup.py&#8217;s requires for pyck projects. In your subapp&#8217;s __init__.py file just specify the required dependencies in a list named subapp_requires and it will automatically be merged with the project&#8217;s requirements. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">subapp_requires</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;pygments&#39;</span><span class="p">,</span> <span class="s">&#39;numpy&#39;</span><span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-5">
<h2>What&#8217;s new in 0.9.5<a class="headerlink" href="#what-s-new-in-0-9-5" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Bugfix: PyCK auth controllers used request.current_route_url() with query strings that caused duplicate actions, like delete a record and then redirecting to the same url (with action delete) and trying to delete it again.</p>
</li>
<li><p class="first">Bugfix: In admin section if an integer primary key is None (empty), it tries to insert or update that as a string &#8216;None&#8217; causing error.</p>
</li>
<li><p class="first">Allow redirecting from CRUD Controller add, update and delete actions.</p>
</li>
<li><p class="first">Removed pyramid_handlers dependency. Converted CRUD controller from pyramid_handlers to simple pyramid add_route and add_view mechanism</p>
</li>
<li><dl class="first docutils">
<dt>Test case improvements</dt>
<dd><ul class="first last simple">
<li>Updated test cases. Added test cases for pyramid&#8217;s CRUD controller and Admin controller</li>
<li>Updated scaffolds to include new tests architecture and also included some other minor improvements.</li>
<li>Added a test project to pyck source code named pycktestproject for functional testing.</li>
<li>Functional tests for admin and crud controller added in pycktestproject</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-4">
<h2>What&#8217;s new in 0.9.4<a class="headerlink" href="#what-s-new-in-0-9-4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Bugfix. Ignore non-field columns when trying to assess exclude list for admin panel</li>
<li>By default don&#8217;t display auth tables in admin section. Auth Manager should be used for managing those tables so displaying those in Admin section only encourages issues.</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-3">
<h2>What&#8217;s new in 0.9.3<a class="headerlink" href="#what-s-new-in-0-9-3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed error in admin panel where providing an empty value in a numeric drop down box for add/edit forms caused error.</li>
<li>Update to AdminController, if a FK field can be null, the drop down in forms allows selecting an empty value. Previously just all the values from the FK column got displayed and user got no option for not selecting any value.</li>
<li>pyck.lib.models.get_models now has the option to return a dict instead of a list.</li>
<li>AdminController allows passing a dict of models (with keys being the appnames) and side links are then categorized by app.</li>
<li>Fix for CRUDController that allows many to many relationship forms to be displayed. For example a table containing two columns (composite primary key) and both being FKs to two different tables</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-2">
<h2>What&#8217;s new in 0.9.2<a class="headerlink" href="#what-s-new-in-0-9-2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated code to support Pyramid version 1.5.1 that broke backward compatibility by removing mako as default and adding it as a dependency.</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9-1">
<h2>What&#8217;s new in 0.9.1<a class="headerlink" href="#what-s-new-in-0-9-1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Improved pluggable apps support allowing usage of pre-installed subapps and the usual placing the app folder within the apps folder</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-9">
<h2>What&#8217;s new in 0.9<a class="headerlink" href="#what-s-new-in-0-9" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Startup project template uses bootstrap everywhere (main site, login, admin section &amp; auth manager)</li>
<li>Dojo (using WTDojo) controls are used in all forms (contact us, admin section &amp; auth manager)</li>
<li>CSS cleanup and removal of no longer required images, css elements, markup etc because of bootstrap usage</li>
<li>Admin section now has a link back to project home</li>
<li>Auth manager uses the same top menu as the rest of the project</li>
<li>Improved mako templates to include menu links using lists and loops and properly checking for the currently active URL</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-8-2">
<h2>What&#8217;s new in 0.8.2<a class="headerlink" href="#what-s-new-in-0-8-2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Colored logging on console. Now console actions like serving through pserve  or other methods outputs log
messages in color. INFO messages are displayed in green, DEBUG messages are in blue, WARNING messages in
yellow and ERROR messages in red.</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-8-1">
<h2>What&#8217;s new in 0.8.1<a class="headerlink" href="#what-s-new-in-0-8-1" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Fixed issue where app created but not included in enabled_apps causes project start-up failure</p>
</li>
<li><p class="first">Top-level application routes now reside in routes.py instead of __init__.py similar to sub-apps.</p>
</li>
<li><p class="first">{projname}_initdb renamed to {projname}_populate</p>
</li>
<li><p class="first">Renamed DBSession to db (it&#8217;s more pythonic and shorter)</p>
</li>
<li><p class="first">Fixed bug - admin interface causes errors with non numeric primary keys</p>
</li>
<li><p class="first">In sub-app initialization now using:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">PROJECT_NAME</span><span class="p">,</span> <span class="n">project_package</span>
</pre></div>
</div>
<p>instead of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">apps</span> <span class="kn">import</span> <span class="n">PROJECT_NAME</span><span class="p">,</span> <span class="n">project_package</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-8">
<h2>What&#8217;s new in 0.8<a class="headerlink" href="#what-s-new-in-0-8" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Use 127.0.0.1 as ip for development.ini. For development.ini don&#8217;t use 0.0.0.0 as it causes some issues
requiring reloading on firefox (specially when using proxies). Just use 127.0.0.1, production.ini still
uses 0.0.0.0</li>
<li>Use <a class="reference external" href="http://docs.pylonsproject.org/projects/waitress/en/latest/">waitress</a> HTTP server</li>
<li>Renamed populate_projname command to projname_initdb, all commands of a project starting from the project&#8217;s
name make more sense.</li>
<li>Documentation updates</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-7-5">
<h2>What&#8217;s new in 0.7.5<a class="headerlink" href="#what-s-new-in-0-7-5" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Admin Controller is enabled by default under /admin for new PyCK projects</li>
<li>Links to login, logout, admin and authentication section are included in the header</li>
<li>Documentation fixes</li>
<li>Minor refactoring</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-7-2">
<h2>What&#8217;s new in 0.7.2<a class="headerlink" href="#what-s-new-in-0-7-2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The default admin permission was renamed from manage to admin since this name makes more sense</li>
<li>Added wtdojo to requires for new projects</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-7-1">
<h2>What&#8217;s new in 0.7.1<a class="headerlink" href="#what-s-new-in-0-7-1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updates to documentation</li>
<li>Design changes to make the default generated application look a bit better</li>
<li>Removal of the default sample app and Site Model since now the auth models already provide the sample models required</li>
<li>New PyCK Logos, new style for the login page</li>
<li>If AdminController is enabled then successful login redirects to admin interface if not otherwise directed by &#8216;came_from&#8217;
session variable</li>
<li>Minor CSS fix so that footer is properly bottom-aligned in the page</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-7">
<h2>What&#8217;s new in 0.7<a class="headerlink" href="#what-s-new-in-0-7" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Static routes (routes normally used for JS, images, CSS etc) are now ignored for authentication checking. Using Javascript
frameworks like Dojo requires accessing quite a lot of files for a page and this can slow down the application checking for
permissions for each of the static resource. Of course, you can disable it by commenting out the relevant code in your
project&#8217;s auth.py</p>
</li>
<li><p class="first">The newapp script now uses argparse instead of optparse to avoid deprecation warnings.</p>
</li>
<li><p class="first">Minor fix to admin controller to get rid of add errors for some models.</p>
</li>
<li><p class="first">Inclusion of dojo from google&#8217;s CDN by default into admin and application base templates.</p>
</li>
<li><p class="first">Admin controller</p>
<blockquote>
<div><ul class="simple">
<li>now ignores relationship properties of a model while display add/edit forms.</li>
<li>Add and edit forms in admin controller now display combo boxes for foreign keys instead of plain text boxes, and if
the foreign_key column is integer then the value displayed in the combo box is from the field that comes after the
field pointed to by the foreign key column. So if you have a foreign key product_id referring to a products table
with fields id and name then the drop down displays product names while the backend values are prodcut ids from the
products table</li>
<li>If there is any relationship for a foreign key field present in the current model displays the column next to the
referenced column from the target table. So if you have a foreign key product_id referring to a products table
with fields id and name then product names are displayed in listings</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-6-8">
<h2>What&#8217;s new in 0.6.8<a class="headerlink" href="#what-s-new-in-0-6-8" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>CRUDController now uses wtdojo to display fields using dojo.</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-6-6">
<h2>What&#8217;s new in 0.6.6<a class="headerlink" href="#what-s-new-in-0-6-6" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Minor improvement in the authentication framework. Instead of fetching user permissions from the DB for each url request; user
permissions are fetched only once during login time and stored in session. The auth.authenticator tween just used the list of
user permissions present in session instead of fetching them each time.</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-6-5">
<h2>What&#8217;s new in 0.6.5<a class="headerlink" href="#what-s-new-in-0-6-5" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>dojo_model_forms support</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-6-4">
<h2>What&#8217;s new in 0.6.4<a class="headerlink" href="#what-s-new-in-0-6-4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added facility in the authentication framework for static permissions. You can use the authentication manager to set a permission
for a route but you don&#8217;t have to assign any user to that permission. This is meant to allow authentication from user databases other
than PyCK&#8217;s users table. Developers just need to set the permission name in a request.session key named <strong>auth_static_permission</strong> in
their login verification controllers. This way the users can be authenticated any way the developer wants and still their access
to the whole application can be controlled by PyCK&#8217;s authentication manager.</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-6-3">
<h2>What&#8217;s new in 0.6.3<a class="headerlink" href="#what-s-new-in-0-6-3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed minor issue with the populate script that prevented proper population of posgresql and possibly mysql databases.
This does not seem to happen with SQLite.</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-6">
<h2>What&#8217;s new in 0.6<a class="headerlink" href="#what-s-new-in-0-6" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Added support for authentication framework. PyCK now supports a graphical web based section for creating users,
permissions and assigning them to different routes. A default login and logout route is now also present in the
initial scaffold.</p>
<p>Simply create a new project, run the populate script for the project and then go to:</p>
<div class="highlight-python"><div class="highlight"><pre>http://0.0.0.0:6543/auth
</pre></div>
</div>
<p>to access the authentication manager.</p>
</li>
<li><p class="first">Minor changes to code for making it cleaner and more compliant to PEP guidelines</p>
</li>
<li><p class="first">Renamed controllers/views.py to controllers/controllers.py since views.py was confusing in the MVC context</p>
</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-5-1">
<h2>What&#8217;s new in 0.5.1<a class="headerlink" href="#what-s-new-in-0-5-1" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Update to CRUDController allowing displaying of related data from another table of a foreign key field. The <em>add_edit_field_args</em>
property can now take values <em>choices</em> and <em>choices_fields</em> and the <em>list_field_args</em> property takes a key <em>display_field</em>, for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">ProductCRUDController</span><span class="p">(</span><span class="n">CRUDController</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">Product</span>
    <span class="n">db_session</span> <span class="o">=</span> <span class="n">DBSession</span>
    <span class="n">add_edit_field_args</span> <span class="o">=</span> <span class="p">{</span>
         <span class="s">&#39;category_id&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;label&#39;</span><span class="p">:</span> <span class="s">&#39;Category&#39;</span><span class="p">,</span> <span class="s">&#39;widget&#39;</span><span class="p">:</span> <span class="n">Select</span><span class="p">(),</span> <span class="s">&#39;coerce&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                         <span class="s">&#39;choices_fields&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">Category</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">Category</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="p">}</span>
         <span class="c">#&#39;category_id&#39;: {&#39;widget&#39;: Select(), &#39;coerce&#39;: int, &#39;choices&#39;: [(1, &#39;ABC&#39;), (2, &#39;DEF&#39;)] }</span>
        <span class="p">}</span>

    <span class="n">list_field_args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;category_id&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;display_field&#39;</span><span class="p">:</span> <span class="s">&#39;category.name&#39;</span><span class="p">}</span>
                <span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-5">
<h2>What&#8217;s new in 0.5<a class="headerlink" href="#what-s-new-in-0-5" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Automatic Admin Interface - Enables automatic Admin interface generation from database models. The <a class="reference internal" href="pyck-admin.html#pyck.ext.admin_controller.AdminController" title="pyck.ext.admin_controller.AdminController"><code class="xref py py-class docutils literal"><span class="pre">pyck.ext.admin_controller.AdminController</span></code></a> allows you to quickly enable Admin interface for any number of database models you like. To use AdminController at minimum these steps must be followed.</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">In your application&#8217;s routes settings, specify the url where the Admin interface should be displayed. You can use the <a class="reference internal" href="pyck-admin.html#pyck.ext.admin_controller.add_admin_handler" title="pyck.ext.admin_controller.add_admin_handler"><code class="xref py py-func docutils literal"><span class="pre">pyck.ext.admin_controller.add_admin_handler()</span></code></a> function for it. For example in your __init__.py; put code like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyck.ext</span> <span class="kn">import</span> <span class="n">AdminController</span><span class="p">,</span> <span class="n">add_admin_handler</span>
<span class="kn">from</span> <span class="nn">pyck.lib</span> <span class="kn">import</span> <span class="n">get_models</span>
<span class="c"># Place this with the config.add_route calls</span>
<span class="n">add_admin_handler</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">db_session</span><span class="p">,</span> <span class="n">get_models</span><span class="p">(</span><span class="n">myapplicationpackagenamehere</span><span class="p">),</span> <span class="s">&#39;admin&#39;</span><span class="p">,</span> <span class="s">&#39;/admin&#39;</span><span class="p">,</span> <span class="n">AdminController</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
<p>and that&#8217;s all you need to do to get a fully operation Admin interface.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-4-3">
<h2>What&#8217;s new in 0.4.3<a class="headerlink" href="#what-s-new-in-0-4-3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updates to the CRUDController for better template integration</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-4-2">
<h2>What&#8217;s new in 0.4.2<a class="headerlink" href="#what-s-new-in-0-4-2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Pagination fixes for limiting the number of pages displayed</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-4-1">
<h2>What&#8217;s new in 0.4.1<a class="headerlink" href="#what-s-new-in-0-4-1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed edit interface bug in CRUDController</li>
<li>Added instructions for setting up pyck with Apache+mod_wsgi</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-4">
<h2>What&#8217;s new in 0.4<a class="headerlink" href="#what-s-new-in-0-4" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">CRUDController - Enables automatic CRUD interface generation from database models. The <a class="reference internal" href="pyck-controllers.html#pyck.controllers.CRUDController" title="pyck.controllers.CRUDController"><code class="xref py py-class docutils literal"><span class="pre">pyck.controllers.CRUDController</span></code></a> allows you to quickly enable CRUD interface for any database model you like. To use CRUD controller at minimum these steps must be followed.</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Create a sub-class of the CRUDController and set model (for which you want to have CRUD) and database session:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyck.controllers</span> <span class="kn">import</span> <span class="n">CRUDController</span>
<span class="kn">from</span> <span class="nn">myapp.models</span> <span class="kn">import</span> <span class="n">MyModel</span><span class="p">,</span> <span class="n">DBSession</span>

<span class="k">class</span> <span class="nc">MyCRUDController</span><span class="p">(</span><span class="n">CRUDController</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">MyModel</span>
    <span class="n">db_session</span> <span class="o">=</span> <span class="n">DBSession</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p class="first">In your application&#8217;s routes settings, specify the url where the CRUD interface should be displayed. You can use the <a class="reference internal" href="pyck-controllers.html#pyck.controllers.add_crud_handler" title="pyck.controllers.add_crud_handler"><code class="xref py py-func docutils literal"><span class="pre">pyck.controllers.add_crud_handler()</span></code></a> method for it. For example in your __init__.py (if you&#8217;re enabling CRUD for a model without your main project) or in your routes.py (if you&#8217;re enabling CRUD for a model within an app in your project) put code like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyck.controllers</span> <span class="kn">import</span> <span class="n">add_crud_handler</span>
<span class="kn">from</span> <span class="nn">controllers.views</span> <span class="kn">import</span> <span class="n">MyCRUDController</span>

<span class="c"># Place this with the config.add_route calls</span>
<span class="n">add_crud_handler</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s">&#39;mymodel_crud&#39;</span><span class="p">,</span> <span class="s">&#39;/mymodel&#39;</span><span class="p">,</span> <span class="n">MyCRUDController</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
<p>and that&#8217;s all you need to do to get a fully operation CRUD interface. Take a look at the newapp sample app in demos for a working CRUD example in the Wiki app.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-3">
<h2>What&#8217;s new in 0.3<a class="headerlink" href="#what-s-new-in-0-3" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Model Forms - Ability to generate forms automatically from database models. We now have a <a class="reference internal" href="pyck-forms.html#pyck.forms.model_form" title="pyck.forms.model_form"><code class="xref py py-func docutils literal"><span class="pre">pyck.forms.model_form()</span></code></a> function that behaves exactly like <code class="xref py py-func docutils literal"><span class="pre">wtforms.ext.sqlalchemy.orm.model_form()</span></code> but uses <a class="reference internal" href="pyck-forms.html#pyck.forms.Form" title="pyck.forms.Form"><code class="xref py py-class docutils literal"><span class="pre">pyck.forms.Form</span></code></a> as its base class. The benefit is that you get all the features present in pyck forms in your model form (like, as_p and as_table rendering of your form and CSRF protection). Using a model form is quite easy, for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyck.forms</span> <span class="kn">import</span> <span class="n">model_form</span>
<span class="kn">from</span> <span class="nn">myapp.models</span> <span class="kn">import</span> <span class="n">User</span>
<span class="n">UserForm</span> <span class="o">=</span> <span class="n">model_form</span><span class="p">(</span><span class="n">User</span><span class="p">)</span>
</pre></div>
</div>
<p>Of course, you can then sub-class this UserForm class to add further validators or modifications if you like. Later in a view (considering you&#8217;ve not subclassed UserForm) you can use this form as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span> <span class="o">=</span> <span class="n">UserForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">,</span> <span class="n">request_obj</span><span class="o">=</span><span class="n">request</span><span class="p">,</span> <span class="n">use_csrf_protection</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>and it will work exactly like a normal pyck Form.</p>
</li>
<li><p class="first">A more operational blog app in the newapp given in demos that uses the model_form feature to add blog posts.</p>
</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-2-4">
<h2>What&#8217;s new in 0.2.4<a class="headerlink" href="#what-s-new-in-0-2-4" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Automated CSRF Protection in forms. While disabled by default (to maintain compatibility with WTForms), CSRF protection can be enabled for a form by passing the form two extra keyword arguments <strong>request_obj</strong> and <strong>use_csrf_protection</strong> set to <strong>True</strong> when initializing it. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">,</span> <span class="n">request_obj</span><span class="o">=</span><span class="n">request</span><span class="p">,</span> <span class="n">use_csrf_protection</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Form objects now have an as_table <a class="reference internal" href="pyck-forms.html#pyck.forms.Form.as_table" title="pyck.forms.Form.as_table"><code class="xref py py-func docutils literal"><span class="pre">pyck.forms.Form.as_table()</span></code></a> method that allows displaying the form in a table similar to the <a class="reference internal" href="pyck-forms.html#pyck.forms.Form.as_p" title="pyck.forms.Form.as_p"><code class="xref py py-func docutils literal"><span class="pre">pyck.forms.Form.as_p()</span></code></a> method added in previous release. This method also accepts labels and errors positions (left, right, top, bottom) and optionally allows you to insert the html &lt;table&gt; tag within the method instead of putting it in your template by setting <strong>include_table_tag parameter</strong> to <strong>True</strong></p>
</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-2-3">
<h2>What&#8217;s new in 0.2.3<a class="headerlink" href="#what-s-new-in-0-2-3" title="Permalink to this headline">¶</a></h2>
<p>Till now almost all updates were to the scaffold generated by a PyCK project, so in a sense till now PyCK could be considered another scraffold for Pyramid. With this version, things are starting to change a bit.</p>
<ul>
<li><p class="first">A new package <a class="reference internal" href="pyck-forms.html#module-pyck.forms" title="pyck.forms: Wrapper on top of WTForms to further ease up forms usage"><code class="xref py py-mod docutils literal"><span class="pre">pyck.forms</span></code></a> that serves as a wrapper on top of WTForms (will try to maintain code usage compatibility with wtforms) so instead of using normal <strong>wtforms.Form</strong> class instances, PyCK developers can use <a class="reference internal" href="pyck-forms.html#pyck.forms.Form" title="pyck.forms.Form"><code class="xref py py-class docutils literal"><span class="pre">pyck.forms.Form</span></code></a> instances in the same way. But these forms come with some additional features</p>
<blockquote>
<div><ul class="simple">
<li>Currently the form can be display using html p tags using <a class="reference internal" href="pyck-forms.html#pyck.forms.Form.as_p" title="pyck.forms.Form.as_p"><code class="xref py py-func docutils literal"><span class="pre">pyck.forms.Form.as_p()</span></code></a> method. This method supports displaying labels and validation errors on either direction of the field control (top, bottom, left, right).</li>
<li>The associated sample app code has been updated along with new app scaffold to use pyck.forms, the code already has become much simpler.</li>
<li>It is important to note that these forms can be used in the same way as WTForms so if you want to layout your form the way you want (as you normally do in WTForms); you are still able to do it.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Basic tests have been implemented for <a class="reference internal" href="pyck-forms.html#module-pyck.forms" title="pyck.forms: Wrapper on top of WTForms to further ease up forms usage"><code class="xref py py-mod docutils literal"><span class="pre">pyck.forms</span></code></a> and nosetests are being used for automated testing. Keeping the code quality high is one of the aims here so I&#8217;ll try to write tests for all of the additions to pyck itself.</p>
</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-2-2">
<h2>What&#8217;s new in 0.2.2<a class="headerlink" href="#what-s-new-in-0-2-2" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Sessions support - Sessions come pre-configured now with a new PyCK project and the sample included has also been updated accordingly</p>
</li>
<li><p class="first">Forms support - Initial support for forms using WTForms has landed. Keeping with the structure forms are defined within a forms package inside the application package.</p>
</li>
<li><p class="first">A newly created project (and the sample project) now contains a contact form demonstrating forms usage.</p>
<blockquote>
<div><ul class="simple">
<li>Additionally forms also have CSRF (Cross Site Request Forgery) protection</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Flash messaging support is also in. Look at the contact form example (specifically its template and the home and base templates) to see flash messages in action.</p>
</li>
</ul>
<p><strong>What&#8217;s next?</strong> Focus now is to make forms more easy to use within PyCK. Upcoming versions are expected to contain more enhancements related to forms.</p>
</div>
<div class="section" id="what-s-new-in-0-2-1">
<h2>What&#8217;s new in 0.2.1<a class="headerlink" href="#what-s-new-in-0-2-1" title="Permalink to this headline">¶</a></h2>
<p>Some code refactoring to ease up a few things</p>
<ul>
<li><p class="first">Moved sys.path addition settings to a seperate function named load_project_settings in project&#8217;s __init__.py. This function is called by __init__.py&#8217;s main function to load project specific settings and also called by the populate script. So the code is at one place instead of two places.</p>
</li>
<li><p class="first">For apps, moved the RenameTables SQA MetaBase to the model package&#8217;s __init__.py so its a bit hidden from the developer as the developer just sees:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">DBSession</span><span class="p">,</span> <span class="n">Base</span>
</pre></div>
</div>
<p>in the model definition files. This also makes importing these into multiple model files much easier (since again the code is at a single location now)</p>
</li>
<li><p class="first">In the __init__.py of every model package (apps or the main project alike), we now import the models defined by that project/app and include them in the __all__ list so that instead of importing like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">myapp.models.models</span> <span class="kn">import</span> <span class="n">MyModel</span>
</pre></div>
</div>
<p>now we can use:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">myapp.models</span> <span class="kn">import</span> <span class="n">MyModel</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-2-0">
<h2>What&#8217;s new in 0.2.0<a class="headerlink" href="#what-s-new-in-0-2-0" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">tables created from models in apps are automatically prefixed by app name. For example: if you have an app named blog and it has a model Post where you have specified:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">__tablename__</span> <span class="o">=</span> <span class="s">&#39;posts&#39;</span>
</pre></div>
</div>
<p>it will automatically be created as <strong>blog_posts</strong> in the database. Your access to the table through the model remained same without any changes.</p>
</li>
<li><p class="first">Once you run python setup.py develop for your new project, a new command for creating an app becomes availabe to you. Instead of copying the sample app provided and adjusting it, now the whole struture is created for you. For details see</p>
<p><span class="xref std std-ref">adding-apps</span></p>
<p>This feature is the reason that the version number bumped upto 0.2 :-)</p>
</li>
</ul>
</div>
<div class="section" id="what-s-new-in-0-1-6">
<h2>What&#8217;s new in 0.1.6<a class="headerlink" href="#what-s-new-in-0-1-6" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>First fully operational version with pluggable apps along with their database models etc.</li>
</ul>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="nginx_uwsgi_virtualenv.html" class="btn btn-neutral" title="Running PyCK Applications with Nginx, uwsgi and Virtualenv" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011 - 2016 Kashif Iftikhar.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.10',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>